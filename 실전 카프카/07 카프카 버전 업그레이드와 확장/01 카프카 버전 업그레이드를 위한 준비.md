# 카프카 버전 업그레이드를 위한 준비
## 카프카 버전 확인 
카프카 버전 업그레이드 전에 버전을 확인할 필요가 있다.     

**명령어를 이용한 방법**  
```shell
/usr/local/kafka/bin/kafka-topcis.sh --version
> 2.6.0 (Commit:62abe01bee039651)
```

**kafka의 libs jar 파일 확인하는 방법**  
```shell
ls -l /usr/local/kafka/libs/kafka_*

> ...2.12-2.6.0-javadoc.jar 
``` 

## 

카프카 버전 확인이 끝났으면, 릴리즈 노트 등을 살펴보면서 업그레이드시 문제가 없는지 확인한다.      
카프카의 상위 버전은 클라이언트들의 하위 호환성을 갖기에 대부분 클라이언트 이슈는 없을 것이다.        
하지만 `스칼라 컨슈머`, `프로듀서`처럼 서비스가 종료된 경우도 있으므로 꼭 릴리즈 노트를 확인하자.   
 
만약, 버저닝이 `0.X` -> `1.X` -> `2.X `와 같은 경우에는       
메시지 포맷 변경, 브로커에서의 기보값 변화, 과거 명령어 지원 종료, 일부 JMX 메트릭의 변화등의 문제가 있을 수 있다.  
하지만, `2.X` -> `2.Y`의 버전 변경일 경우 비교적 용이하게 업그레이드 할 수 있다.   










대부분의 애플리케이션도 비슷하지만, 카프카의 최신 버전이 릴리즈 되었을때 마이그레이션은 쉽지 않다.   
그렇다고 과거 버전을 오랜 시간동안 계속 들고 다녀야하는 문제를 지속핧

